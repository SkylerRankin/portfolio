let data={background_tile_width:250,background_tile_height:31,sprite_width:41,sprite_height:40,deer_offset:10},frame_id=null;function split_sheet(e,t,a){var r=[],n=document.createElement("canvas");n.width=e.width,n.height=e.height;var i=n.getContext("2d");i.drawImage(e,0,0);var l=document.createElement("canvas");l.width=t,l.height=a;for(var d=l.getContext("2d"),o=0;o<e.height/a;++o)for(var m=0;m<e.width/t;++m){var s=i.getImageData(m*t,o*a,a,t);d.putImageData(s,0,0);var h=new Image;h.src=l.toDataURL(),r.push(h)}return r}function update_frames(e,t){return e?(e.elapsed_frames>=t?(e.elapsed_frames=0,e.current_frame++,e.current_frame>=e.frames.length&&(e.loop?e.current_frame=0:(e.current_frame=e.frames.length-1,e.complete=!0))):e.elapsed_frames++,e):null}var get_frames=(()=>{let e=[];var t=new Image;return t.onload=(()=>{let a=split_sheet(t,data.sprite_width,data.sprite_height);e=[{loop:!0,frames:a.slice(0,12),current_frame:0,elapsed_frames:0,complete:!1},{loop:!1,frames:a.slice(12,18),current_frame:0,elapsed_frames:0,complete:!1},{loop:!0,frames:a.slice(18,30),current_frame:0,elapsed_frames:0,complete:!1},{loop:!1,frames:a.slice(30,36),current_frame:0,elapsed_frames:0,complete:!1}]}),t.crossOrigin="anonymous",t.src="res/sheet.png",function(t){return e[t].complete=0,e[t].current_frame=0,e[t].elapsed_frames=0,e[t]}})(),animation=(()=>{var e=document.getElementById("foreground_canvas"),t=e.getContext("2d");let a=null,r=-1,n=e.width/2,i=e.width-50;var l=null,d=null;return function(o){var m=o-(l||o);m>50&&(m=16),l=o,t.clearRect(0,0,e.width,e.height),null==a&&((d=get_frames(a=(r+1)%4)).complete=!1),(d=update_frames(d,6))&&(a%2==0&&(n+=.1*m*(0==a?1:-1)),t.drawImage(d.frames[d.current_frame],n,e.height-data.background_tile_height*data.scale+data.deer_offset-data.sprite_height*data.scale,data.sprite_width*data.scale,data.sprite_height*data.scale),a%2==0?0==a&&n>=i?(r=a,a=null,i=.3*e.width*Math.random()):2==a&&n<=i&&(r=a,a=null,i=e.width-.3*e.width*Math.random()-data.scale*data.sprite_width):d.complete&&(r=a,a=null)),frame_id=window.requestAnimationFrame(animation)}})();function init(){var e=document.getElementById("background_canvas"),t=document.getElementById("foreground_canvas"),a=e.getContext("2d"),r=t.getContext("2d");let n=window.devicePixelRatio,i=parseInt(getComputedStyle(e).getPropertyValue("width").slice(0,-2)),l=parseInt(getComputedStyle(e).getPropertyValue("height").slice(0,-2));e.setAttribute("width",i*n),e.setAttribute("height",l*n),t.setAttribute("width",i*n),t.setAttribute("height",l*n),data.scale=i*n/248,a.fillStyle="#aedfca",a.fillRect(0,0,e.width,e.height);var d=document.getElementById("home_title");d.innerHTML="SKYLER<br>RANKIN";var o=1;for(d.style.fontSize=o+"%";2*d.getBoundingClientRect().height<e.getBoundingClientRect().height;)d.style.fontSize=(o+=5)+"%";d.style.display="block",d.parentElement.style.top=.2*e.getBoundingClientRect().height+"px",a.webkitImageSmoothingEnabled=!1,a.moxImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,r.webkitImageSmoothingEnabled=!1,r.moxImageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1;const m=data.scale,s=(e.width/(250*m)).toFixed()+1;var h=new Image;h.onload=(()=>{for(var t=0;t<s;++t)a.drawImage(h,250*t*m,e.height-31*m,250*m,31*m);frame_id=window.requestAnimationFrame(animation)}),h.src="res/landscape.png"}function resize(){cancelAnimationFrame(frame_id),init()}